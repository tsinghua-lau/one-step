import{a as Z}from"./tslib.23c83927.js";import{w as xe,i as z}from"./hey-listen.a7ce0d1d.js";import{h as w,r as N,g as Oe,e as Y,c as X}from"./style-value-types.6de78d03.js";import{s as Se,c as ve,g as Ie}from"./framesync.0a635127.js";const _=(e,t,n)=>Math.min(Math.max(n,e),t),F=.001,Te=.01,P=10,De=.05,Re=1;function Ae({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,a;xe(e<=P*1e3);let s=1-t;s=_(De,Re,s),e=_(Te,P,e/1e3),s<1?(o=u=>{const d=u*s,p=d*e,x=d-n,O=B(u,s),y=Math.exp(-p);return F-x/O*y},a=u=>{const p=u*s*e,x=p*n+n,O=Math.pow(s,2)*Math.pow(u,2)*e,y=Math.exp(-p),S=B(Math.pow(u,2),s);return(-o(u)+F>0?-1:1)*((x-O)*y)/S}):(o=u=>{const d=Math.exp(-u*e),p=(u-n)*e+1;return-F+d*p},a=u=>{const d=Math.exp(-u*e),p=(n-u)*(e*e);return d*p});const l=5/e,c=ke(o,a,l);if(e=e*1e3,isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const Ee=12;function ke(e,t,n){let r=n;for(let o=1;o<Ee;o++)r=r-e(r)/t(r);return r}function B(e,t){return e*Math.sqrt(1-t*t)}const Ce=["duration","bounce"],Fe=["stiffness","damping","mass"];function K(e,t){return t.some(n=>e[n]!==void 0)}function je(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!K(e,Fe)&&K(e,Ce)){const n=Ae(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function V(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:o}=e,a=Z(e,["from","to","restSpeed","restDelta"]);const s={done:!1,value:t};let{stiffness:l,damping:c,mass:u,velocity:d,duration:p,isResolvedFromDuration:x}=je(a),O=G,y=G;function S(){const g=d?-(d/1e3):0,b=n-t,m=c/(2*Math.sqrt(l*u)),i=Math.sqrt(l/u)/1e3;if(o===void 0&&(o=Math.min(Math.abs(n-t)/100,.4)),m<1){const f=B(i,m);O=h=>{const M=Math.exp(-m*i*h);return n-M*((g+m*i*b)/f*Math.sin(f*h)+b*Math.cos(f*h))},y=h=>{const M=Math.exp(-m*i*h);return m*i*M*(Math.sin(f*h)*(g+m*i*b)/f+b*Math.cos(f*h))-M*(Math.cos(f*h)*(g+m*i*b)-f*b*Math.sin(f*h))}}else if(m===1)O=f=>n-Math.exp(-i*f)*(b+(g+i*b)*f);else{const f=i*Math.sqrt(m*m-1);O=h=>{const M=Math.exp(-m*i*h),v=Math.min(f*h,300);return n-M*((g+m*i*b)*Math.sinh(v)+f*b*Math.cosh(v))/f}}}return S(),{next:g=>{const b=O(g);if(x)s.done=g>=p;else{const m=y(g)*1e3,i=Math.abs(m)<=r,f=Math.abs(n-b)<=o;s.done=i&&f}return s.value=s.done?n:b,s},flipTarget:()=>{d=-d,[t,n]=[n,t],S()}}}V.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const G=e=>0,ee=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},L=(e,t,n)=>-n*e+n*t+e;function j(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,a=0,s=0;if(!t)o=a=s=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;o=j(c,l,e+1/3),a=j(c,l,e),s=j(c,l,e-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const we=(e,t,n)=>{const r=e*e,o=t*t;return Math.sqrt(Math.max(0,n*(o-r)+r))},Ne=[Oe,N,w],J=e=>Ne.find(t=>t.test(e)),te=(e,t)=>{let n=J(e),r=J(t),o=n.parse(e),a=r.parse(t);n===w&&(o=$(o),n=N),r===w&&(a=$(a),r=N);const s=Object.assign({},o);return l=>{for(const c in s)c!=="alpha"&&(s[c]=we(o[c],a[c],l));return s.alpha=L(o.alpha,a.alpha,l),n.transform(s)}},_e=e=>typeof e=="number",Be=(e,t)=>n=>t(e(n)),ne=(...e)=>e.reduce(Be);function se(e,t){return _e(e)?n=>L(e,t,n):X.test(e)?te(e,t):oe(e,t)}const re=(e,t)=>{const n=[...e],r=n.length,o=e.map((a,s)=>se(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=o[s](a);return n}},He=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=se(e[o],t[o]));return o=>{for(const a in r)n[a]=r[a](o);return n}};function Q(e){const t=Y.parse(e),n=t.length;let r=0,o=0,a=0;for(let s=0;s<n;s++)r||typeof t[s]=="number"?r++:t[s].hue!==void 0?a++:o++;return{parsed:t,numNumbers:r,numRGB:o,numHSL:a}}const oe=(e,t)=>{const n=Y.createTransformer(t),r=Q(e),o=Q(t);return r.numHSL===o.numHSL&&r.numRGB===o.numRGB&&r.numNumbers>=o.numNumbers?ne(re(r.parsed,o.parsed),n):s=>`${s>0?t:e}`},Ve=(e,t)=>n=>L(e,t,n);function Le(e){if(typeof e=="number")return Ve;if(typeof e=="string")return X.test(e)?te:oe;if(Array.isArray(e))return re;if(typeof e=="object")return He}function Ue(e,t,n){const r=[],o=n||Le(e[0]),a=e.length-1;for(let s=0;s<a;s++){let l=o(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]:t;l=ne(c,l)}r.push(l)}return r}function qe([e,t],[n]){return r=>n(ee(e,t,r))}function ze(e,t){const n=e.length,r=n-1;return o=>{let a=0,s=!1;if(o<=e[0]?s=!0:o>=e[r]&&(a=r-1,s=!0),!s){let c=1;for(;c<n&&!(e[c]>o||c===r);c++);a=c-1}const l=ee(e[a],e[a+1],o);return t[a](l)}}function ae(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const a=e.length;z(a===t.length),z(!r||!Array.isArray(r)||r.length===a-1),e[0]>e[a-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const s=Ue(t,r,o),l=a===2?qe(e,s):ze(e,s);return n?c=>l(_(e[0],e[a-1],c)):l}const k=e=>t=>1-e(1-t),U=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Pe=e=>t=>Math.pow(t,e),ce=e=>t=>t*t*((e+1)*t-e),Ke=e=>{const t=ce(e);return n=>(n*=2)<1?.5*t(n):.5*(2-Math.pow(2,-10*(n-1)))},ie=1.525,Ge=4/11,$e=8/11,Je=9/10,Qe=e=>e,le=Pe(2),St=k(le),We=U(le),Ze=e=>1-Math.sin(Math.acos(e)),Ye=k(Ze),vt=U(Ye),ue=ce(ie),It=k(ue),Tt=U(ue),Dt=Ke(ie),Xe=4356/361,et=35442/1805,tt=16061/1805,H=e=>{if(e===1||e===0)return e;const t=e*e;return e<Ge?7.5625*t:e<$e?9.075*t-9.9*e+3.4:e<Je?Xe*t-et*e+tt:10.8*e*e-20.52*e+10.72},Rt=k(H),At=e=>e<.5?.5*(1-H(1-e*2)):.5*H(e*2-1)+.5;function nt(e,t){return e.map(()=>t||We).splice(0,e.length-1)}function st(e){const t=e.length;return e.map((n,r)=>r!==0?r/(t-1):0)}function rt(e,t){return e.map(n=>n*t)}function R({from:e=0,to:t=1,ease:n,offset:r,duration:o=300}){const a={done:!1,value:e},s=Array.isArray(t)?t:[e,t],l=rt(r&&r.length===s.length?r:st(s),o);function c(){return ae(l,s,{ease:Array.isArray(n)?n:nt(s,n)})}let u=c();return{next:d=>(a.value=u(d),a.done=d>=o,a),flipTarget:()=>{s.reverse(),u=c()}}}function ot({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:o=.5,modifyTarget:a}){const s={done:!1,value:t};let l=n*e;const c=t+l,u=a===void 0?c:a(c);return u!==c&&(l=u-t),{next:d=>{const p=-l*Math.exp(-d/r);return s.done=!(p>o||p<-o),s.value=s.done?u:u+p,s},flipTarget:()=>{}}}const W={keyframes:R,spring:V,decay:ot};function at(e){if(Array.isArray(e.to))return R;if(W[e.type])return W[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?R:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?V:R}function fe(e,t,n=0){return e-t-n}function ct(e,t,n=0,r=!0){return r?fe(t+-e,t,n):t-(e-t)+n}function it(e,t,n,r){return r?e>=t+n:e<=-n}const lt=e=>{const t=({delta:n})=>e(n);return{start:()=>Se.update(t,!0),stop:()=>ve.update(t)}};function ut(e){var t,n,{from:r,autoplay:o=!0,driver:a=lt,elapsed:s=0,repeat:l=0,repeatType:c="loop",repeatDelay:u=0,onPlay:d,onStop:p,onComplete:x,onRepeat:O,onUpdate:y}=e,S=Z(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:g}=S,b,m=0,i=S.duration,f,h=!1,M=!0,v;const T=at(S);!((n=(t=T).needsInterpolation)===null||n===void 0)&&n.call(t,r,g)&&(v=ae([0,100],[r,g],{clamp:!1}),r=0,g=100);const I=T(Object.assign(Object.assign({},S),{from:r,to:g}));function be(){m++,c==="reverse"?(M=m%2===0,s=ct(s,i,u,M)):(s=fe(s,i,u),c==="mirror"&&I.flipTarget()),h=!1,O&&O()}function ye(){b.stop(),x&&x()}function ge(C){if(M||(C=-C),s+=C,!h){const q=I.next(Math.max(0,s));f=q.value,v&&(f=v(f)),h=M?q.done:s<=0}y==null||y(f),h&&(m===0&&(i!=null||(i=s)),m<l?it(s,i,u,M)&&be():ye())}function Me(){d==null||d(),b=a(ge),b.start()}return o&&Me(),{stop:()=>{p==null||p(),b.stop()}}}function ft(e,t){return t?e*(1e3/t):0}function Et({from:e=0,velocity:t=0,min:n,max:r,power:o=.8,timeConstant:a=750,bounceStiffness:s=500,bounceDamping:l=10,restDelta:c=1,modifyTarget:u,driver:d,onUpdate:p,onComplete:x,onStop:O}){let y;function S(i){return n!==void 0&&i<n||r!==void 0&&i>r}function g(i){return n===void 0?r:r===void 0||Math.abs(n-i)<Math.abs(r-i)?n:r}function b(i){y==null||y.stop(),y=ut(Object.assign(Object.assign({},i),{driver:d,onUpdate:f=>{var h;p==null||p(f),(h=i.onUpdate)===null||h===void 0||h.call(i,f)},onComplete:x,onStop:O}))}function m(i){b(Object.assign({type:"spring",stiffness:s,damping:l,restDelta:c},i))}if(S(e))m({from:e,velocity:t,to:g(e)});else{let i=o*t+e;typeof u<"u"&&(i=u(i));const f=g(i),h=f===n?-1:1;let M,v;const T=I=>{M=v,v=I,t=ft(I-M,Ie().delta),(h===1&&I>f||h===-1&&I<f)&&m({from:I,to:f,velocity:t})};b({type:"decay",from:e,velocity:t,timeConstant:a,power:o,restDelta:c,modifyTarget:u,onUpdate:S(i)?T:void 0})}return{stop:()=>y==null?void 0:y.stop()}}const pe=(e,t)=>1-3*t+3*e,de=(e,t)=>3*t-6*e,he=e=>3*e,E=(e,t,n)=>((pe(t,n)*e+de(t,n))*e+he(t))*e,me=(e,t,n)=>3*pe(t,n)*e*e+2*de(t,n)*e+he(t),pt=1e-7,dt=10;function ht(e,t,n,r,o){let a,s,l=0;do s=t+(n-t)/2,a=E(s,r,o)-e,a>0?n=s:t=s;while(Math.abs(a)>pt&&++l<dt);return s}const mt=8,bt=.001;function yt(e,t,n,r){for(let o=0;o<mt;++o){const a=me(t,n,r);if(a===0)return t;const s=E(t,n,r)-e;t-=s/a}return t}const A=11,D=1/(A-1);function kt(e,t,n,r){if(e===t&&n===r)return Qe;const o=new Float32Array(A);for(let s=0;s<A;++s)o[s]=E(s*D,e,n);function a(s){let l=0,c=1;const u=A-1;for(;c!==u&&o[c]<=s;++c)l+=D;--c;const d=(s-o[c])/(o[c+1]-o[c]),p=l+d*D,x=me(p,e,n);return x>=bt?yt(s,p,e,n):x===0?p:ht(s,l,l+D,e,n)}return s=>s===0||s===1?s:E(a(s),t,r)}export{We as a,St as b,Ze as c,vt as d,le as e,Ye as f,ue as g,Tt as h,It as i,Dt as j,Rt as k,Qe as l,At as m,H as n,Et as o,ut as p,kt as q,ft as v};
